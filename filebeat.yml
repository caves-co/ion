############################# Filebeat #####################################

filebeat.inputs:
- type: log
  paths:
    - /var/log/ion.log
  fields:
    logzio_codec: utf-8
    type: ion_new
    service_name: ${SERVICE_NAME:unknown}
  fields_under_root: true
  encoding: utf-8
  ignore_older: 3h

#For version 6.x and lower
#filebeat.registry_file: /var/lib/filebeat/registry

#For version 7 and higher
filebeat.registry.path: /var/lib/filebeat

#The following processors are to ensure compatibility with version 7
processors:
- rename:
    fields:
     - from: "agent"
       to: "beat_agent"
    ignore_missing: false
- add_tags:
    tags: "${SERVICE_NAME:unknown}"
    target: "service_name"

############################# Output ##########################################

output:
  logstash:
    hosts: ["livespot-syslog-master:5044"]
    compression_level: 0
